DATABASE:
docker run --name db -d -e MYSQL_ROOT_PASSWORD=123 -e MYSQL_DATABASE=users -e MYSQL_USER=users_service -e MYSQL_PASSWORD=123 -p 3306:3306 mysql


DB_CONNECTION:
docker build -t db_connection .
docker run --name db_connection -d -it -p 8082:8082 --link db:db -e DATABASE_HOST=DB db_connection
docker run --name db_connection -it -p 8082:8082 --link db:db --link mule:mule -e DATABASE_HOST=DB db_connection

MULE:
docker run -d --name mule_esb -p 8083:8083 -v /vagrant/mule/apps:/opt/mule/apps -v /vagrant/mule/logs:/opt/mule/logs andreptb/mule:3.6.1
docker exec -it mule_esb bash
export http_proxy=http://10.110.8.42:8080
export https_proxy=http://10.110.8.42:8080

apt-get update
apt-get upgrade

-------------------------------------------------------------------------------
apt-get install nano

nano /etc/bash.bashrc
export http_proxy=http://10.110.8.42:8080
export https_proxy=http://10.110.8.42:8080

nano /etc/environment
http_proxy=http://10.110.8.42:8080
https_proxy=http://10.110.8.42:8080

nano /etc/apt/apt.conf
Acquire::http::Proxy "http://10.110.8.42:8080";
Acquire::https::Proxy "http://10.110.8.42:8080";

-------------------------------------------------------------------------------

docker commit mule_esb mule

docker run -d --name mule -p 8083:8083 -v /vagrant/mule/apps:/opt/mule/apps -v /vagrant/mule/logs:/opt/mule/logs mule
docker run -d --name mule -p 8083:8083 --link db_connection:db_connection -v /vagrant/mule/apps:/opt/mule/apps -v /vagrant/mule/logs:/opt/mule/logs mule

SIGN_UP_CLIENT_MS:
docker build -t mule_connection .
docker run -it --name mule_connection -p 80:8081 mule_connection
docker run -it --name mule_connection -p 80:8081 --link mule:mule mule_connection